var Login={setLogin:function(a,b,c){var d=location.protocol+"//"+location.host,e=d+"/battlenet/login",f=d+"/battlenet/logout",g="http://account.bnet.163.com/battlenet/logout?inner_client_id="+a+"&inner_ref=";current_url=location.href,bnetOauthPrefix="http://account.bnet.163.com/battlenet/login?inner_client_id="+a+"&inner_redirect_uri=",bnetLogoutPrefix="https://www.battlenet.com.cn/login/zh/logout?fast&ref=";var h=$(b),i=$.cookie("battletag"),j=!1;if(null!=i)if(j=!0,"character+not+found"!=i){var k=decodeURIComponent(i).replace(/\"/g,""),l=k.substring(k.indexOf("#")),m=k.replace(/[#]\d+/gi,""),n=bnetLogoutPrefix+encodeURIComponent(g+encodeURIComponent(f+"?redirect_url="+encodeURIComponent(current_url)));h&&h.html(k+'&nbsp; | &nbsp;<a href="'+n+'" tabindex="50" accesskey="2">注销</a>')}else{var n=bnetLogoutPrefix+encodeURIComponent(g+encodeURIComponent(f+"?redirect_url="+encodeURIComponent(current_url)));h&&h.html('您尚未<a href="https://www.battlenet.com.cn/account/management/battletag-create.html" target="_blank">设置战网昵称</a>&nbsp; | &nbsp;<a href="'+n+'" tabindex="50" accesskey="2">注销</a>')}else j=!1;var o=bnetOauthPrefix+encodeURIComponent(e+"?redirect_url="+encodeURIComponent(current_url));if("string"==typeof c)$(c).attr("href",o);else for(var p in c)$(c[p]).attr("href",o);Login.params={isLogin:j,battle_code:l,tag_name:m,login_url:o,logout_url:n}}};